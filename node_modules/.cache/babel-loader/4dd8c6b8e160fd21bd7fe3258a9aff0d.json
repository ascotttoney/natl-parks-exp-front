{"ast":null,"code":"var _jsxFileName = \"/Volumes/Storage/Code/national-parks-explorer/front-end/src/components/Map.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactMap, { Marker, Popup } from 'react-map-gl';\nimport 'mapbox-gl/src/css/mapbox-gl.css';\nimport ParkCard from './ParkCard';\nexport const Map = props => {\n  const [viewport, setViewport] = useState({\n    latitude: 38.560954,\n    longitude: -98.93524,\n    zoom: 4,\n    width: '100vw',\n    height: '93vh'\n  });\n  const [selected, setSelected] = useState(null);\n\n  const getLat = park => park.latLong.slice(4).split(', long:').map(num => parseFloat(num))[0];\n\n  const getLong = park => park.latLong.slice(4).split(', long:').map(num => parseFloat(num))[1];\n\n  useEffect(() => {\n    const listener = e => e.key === 'Escape' && setSelected(null);\n\n    window.addEventListener('keydown', listener);\n    return () => window.removeEventListener('keydown', listener);\n  }, []);\n\n  const parkMarker = park => {\n    return /*#__PURE__*/React.createElement(Marker, {\n      key: park.id,\n      latitude: getLat(park),\n      longitude: getLong(park),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"marker-btn\",\n      onClick: e => {\n        e.preventDefault();\n        setSelected(park);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://upload.wikimedia.org/wikipedia/commons/1/1d/US-NationalParkService-Logo.svg\",\n      alt: \"National Park Service Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(ReactMap, Object.assign({}, viewport, {\n    mapboxApiAccessToken: \"pk.eyJ1IjoiaGFueHUyNyIsImEiOiJjanh1ajF5bTIxNXZhM2xyczF4cXN4ZjJqIn0.058kHvghPXmU2LOnp_9bwA\",\n    mapStyle: \"mapbox://styles/hanxu27/cjxvx303m18ce1cqhd5dg3029\",\n    onViewportChange: viewport => setViewport(viewport),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }\n  }), props.parks.map(parkMarker), selected && /*#__PURE__*/React.createElement(Popup, {\n    latitude: getLat(selected),\n    longitude: getLong(selected),\n    onClose: () => setSelected(null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ParkCard, {\n    park: selected,\n    showPark: props.showPark,\n    planNewVisit: props.planNewVisit,\n    logPastVisit: props.logPastVisit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }))));\n};","map":{"version":3,"sources":["/Volumes/Storage/Code/national-parks-explorer/front-end/src/components/Map.js"],"names":["React","useState","useEffect","ReactMap","Marker","Popup","ParkCard","Map","props","viewport","setViewport","latitude","longitude","zoom","width","height","selected","setSelected","getLat","park","latLong","slice","split","map","num","parseFloat","getLong","listener","e","key","window","addEventListener","removeEventListener","parkMarker","id","preventDefault","parks","showPark","planNewVisit","logPastVisit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactMap, { Marker, Popup } from 'react-map-gl';\nimport 'mapbox-gl/src/css/mapbox-gl.css';\nimport ParkCard from './ParkCard';\n\nexport const Map = (props) => {\n\tconst [viewport, setViewport] = useState({\n\t\tlatitude: 38.560954,\n\t\tlongitude: -98.93524,\n\t\tzoom: 4,\n\t\twidth: '100vw',\n\t\theight: '93vh',\n\t});\n\tconst [selected, setSelected] = useState(null);\n\n\tconst getLat = (park) =>\n\t\tpark.latLong\n\t\t\t.slice(4)\n\t\t\t.split(', long:')\n\t\t\t.map((num) => parseFloat(num))[0];\n\tconst getLong = (park) =>\n\t\tpark.latLong\n\t\t\t.slice(4)\n\t\t\t.split(', long:')\n\t\t\t.map((num) => parseFloat(num))[1];\n\n\tuseEffect(() => {\n\t\tconst listener = (e) => e.key === 'Escape' && setSelected(null);\n\t\twindow.addEventListener('keydown', listener);\n\t\treturn () => window.removeEventListener('keydown', listener);\n\t}, []);\n\n\tconst parkMarker = (park) => {\n\t\treturn (\n\t\t\t<Marker\n\t\t\t\tkey={park.id}\n\t\t\t\tlatitude={getLat(park)}\n\t\t\t\tlongitude={getLong(park)}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"marker-btn\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsetSelected(park);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/1/1d/US-NationalParkService-Logo.svg\"\n\t\t\t\t\t\talt=\"National Park Service Logo\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</Marker>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<ReactMap\n\t\t\t\t{...viewport}\n\t\t\t\tmapboxApiAccessToken=\"pk.eyJ1IjoiaGFueHUyNyIsImEiOiJjanh1ajF5bTIxNXZhM2xyczF4cXN4ZjJqIn0.058kHvghPXmU2LOnp_9bwA\"\n\t\t\t\tmapStyle=\"mapbox://styles/hanxu27/cjxvx303m18ce1cqhd5dg3029\"\n\t\t\t\tonViewportChange={(viewport) => setViewport(viewport)}\n\t\t\t>\n\t\t\t\t{props.parks.map(parkMarker)}\n\t\t\t\t{selected && (\n\t\t\t\t\t<Popup\n\t\t\t\t\t\tlatitude={getLat(selected)}\n\t\t\t\t\t\tlongitude={getLong(selected)}\n\t\t\t\t\t\tonClose={() => setSelected(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ParkCard\n\t\t\t\t\t\t\tpark={selected}\n\t\t\t\t\t\t\tshowPark={props.showPark}\n\t\t\t\t\t\t\tplanNewVisit={props.planNewVisit}\n\t\t\t\t\t\t\tlogPastVisit={props.logPastVisit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popup>\n\t\t\t\t)}\n\t\t\t</ReactMap>\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}