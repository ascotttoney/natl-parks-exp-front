{"ast":null,"code":"var _jsxFileName = \"/Volumes/Storage/Code/national-parks-explorer/front-end/src/containers/AllContainer.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { NavigationBar } from './NavigationBar';\nimport Parks from './Parks';\nimport PastVisit from './PastVisit';\nimport FutureVisit from './FutureVisit';\nimport { NoMatch } from '../components/NoMatch';\nimport { Layout } from './Layout';\nimport { ParkDetails } from '../components/ParkDetails';\nimport { Map } from '../components/Map';\nimport MyModal from '../components/MyModal';\nimport Profile from './Profile';\nimport Login from './Login';\nconst URL = `http://localhost:3000/`;\nexport default class AllContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postVisit = visit => {\n      let newVisit = visit;\n      newVisit['park_id'] = this.state.newVisit['park_id'];\n      newVisit['user_id'] = this.state.user['id'];\n      let url = URL + this.state.newVisitState.toLowerCase() + '_visits';\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          accepts: 'application/json'\n        },\n        body: JSON.stringify({\n          visit: newVisit\n        })\n      }).then(res => res.json()).then(postVisit => {\n        if (this.state.newVisit === 'Future') {\n          this.modalClose();\n          let visits = [...this.state.futureVisits, postVisit];\n          this.setState({\n            futureVisits: visits,\n            redirect: /*#__PURE__*/React.createElement(Redirect, {\n              to: \"/future_visits\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }\n            })\n          });\n        } else {\n          this.modalClose();\n          let visits = [...this.state.pastVisits, postVisit];\n          this.setState({\n            pastVisits: visits,\n            redirect: /*#__PURE__*/React.createElement(Redirect, {\n              to: \"/past_visits\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }\n            })\n          });\n        }\n      });\n    };\n\n    this.modalShow = () => this.setState({\n      modalShow: true\n    });\n\n    this.modalClose = () => this.setState({\n      modalShow: false\n    });\n\n    this.searchChange = e => e.target.value.length > 2 ? this.setState({\n      search: e.target.value.toLowerCase()\n    }) : this.setState({\n      search: e.target.value\n    });\n\n    this.showPark = park => this.setState({\n      showPark: park\n    });\n\n    this.backToParks = () => this.setState({\n      showPark: false\n    });\n\n    this.filterPark = park => {\n      const search = this.state.search;\n      return park.fullname.toLowerCase().includes(search) || park.description.toLowerCase().includes(search) || park.weatherInfo.toLowerCase().includes(search) || park.states.includes(search);\n    };\n\n    this.planNewVisit = park => {\n      this.setState({\n        newVisitState: 'Future',\n        newVisit: {\n          park_id: park.id\n        }\n      });\n      this.modalShow();\n    };\n\n    this.logPastVisit = park => {\n      this.setState({\n        newVisitState: 'Past',\n        newVisit: {\n          park_id: park.id\n        }\n      });\n      this.modalShow();\n    };\n\n    this.displayParks = () => {\n      let parks = this.state.parks;\n      return parks.filter(park => this.filterPark(park));\n    };\n\n    this.checkCurrentUser = () => {\n      let token = localStorage.token;\n      fetch(`http://localhost:3000/profile`, {\n        method: 'GET',\n        headers: {\n          Authorization: token\n        }\n      }).then(res => res.json()).then(data => this.setState({\n        user: data.user\n      }));\n    };\n\n    this.handleLogin = e => {\n      e.preventDefault();\n      let userObject = {\n        userName: e.target.userName.value,\n        password: e.target.password.value\n      };\n      fetch(URL + 'login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: userObject\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.message) {\n          alert('Sorry, your username or password is incorrect.');\n          this.setState({\n            errors: data.message\n          }, () => console.log('errors', this.state.errors));\n        } else {\n          this.setState({\n            user: data.user,\n            redirect: /*#__PURE__*/React.createElement(Redirect, {\n              to: \"/profile\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }\n            })\n          });\n          localStorage.setItem('token', data.jwt);\n          window.history.pushState({\n            url: '/profile'\n          }, '', '/profile');\n          this.forceUpdate();\n        }\n      });\n      e.target.reset();\n    };\n\n    this.handleLogout = () => {\n      localStorage.removeItem('token');\n      this.setState({\n        redirect: /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }\n        })\n      });\n    };\n\n    this.handleCreateUser = e => {\n      e.preventDefault();\n      console.log(e.target);\n      let newUserObject = {\n        userName: e.target.userName.value,\n        password: e.target.password.value,\n        firstName: e.target.firstName.value,\n        lastName: e.target.lastName.value,\n        profilePicture: e.target.profilePicture.value\n      };\n      fetch(URL + 'users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: newUserObject\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.errors) {\n          alert('Sorry, your username or password is incorrect.');\n          this.setState({\n            errors: data.message\n          }, () => console.log('errors', this.state.errors));\n        } else {\n          this.setState({\n            user: data.user,\n            signUpForm: false,\n            redirect: /*#__PURE__*/React.createElement(Redirect, {\n              to: \"/profile\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }\n            })\n          });\n          localStorage.setItem('token', data.jwt);\n          window.history.pushState({\n            url: '/profile'\n          }, '', '/profile');\n          this.forceUpdate();\n        }\n      });\n    };\n\n    this.showSignUpForm = e => {\n      e.preventDefault();\n      this.state.signUpForm ? this.setState({\n        signUpForm: false\n      }) : this.setState({\n        signUpForm: true\n      });\n    };\n\n    this.state = {\n      newVisitState: '',\n      newVisit: {},\n      modalShow: false,\n      parks: [],\n      showPark: false,\n      pastVisits: [],\n      futureVisits: [],\n      search: '',\n      user: {},\n      signUpForm: false\n    };\n  }\n\n  fetchParks() {\n    fetch(URL + 'parks').then(res => res.json()).then(parks => this.setState({\n      parks: parks\n    }));\n  }\n\n  fetchVisits() {\n    fetch(URL + 'past_visits').then(res => res.json()).then(data => {\n      this.setState({\n        pastVisits: data\n      });\n    });\n    fetch(URL + 'future_visits').then(res => res.json()).then(data => {\n      this.setState({\n        futureVisits: data\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.fetchParks();\n    this.fetchVisits();\n    if (localStorage.token) this.checkCurrentUser();\n  }\n\n  // RENDER & ROUTES //\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(MyModal, {\n      show: this.state.modalShow,\n      onHide: this.modalClose,\n      newVisitState: this.state.newVisitState,\n      postVisit: this.postVisit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(NavigationBar, {\n      searchChange: this.searchChange,\n      loggedIn: this.state.loggedIn,\n      handleLogout: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 6\n      }\n    }, this.state.redirect, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => this.state.showPark ? /*#__PURE__*/React.createElement(ParkDetails, {\n        park: this.state.showPark,\n        backToParks: this.backToParks,\n        planNewVisit: this.planNewVisit,\n        logPastVisit: this.logPastVisit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }\n      }) : /*#__PURE__*/React.createElement(Map, {\n        parks: this.displayParks(),\n        showPark: this.showPark,\n        planNewVisit: this.planNewVisit,\n        logPastVisit: this.logPastVisit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/parks\",\n      render: () => this.state.showPark ? /*#__PURE__*/React.createElement(ParkDetails, {\n        park: this.state.showPark,\n        backToParks: this.backToParks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }\n      }) : /*#__PURE__*/React.createElement(Parks, {\n        parks: this.displayParks(),\n        showPark: this.showPark,\n        planNewVisit: this.planNewVisit,\n        logPastVisit: this.logPastVisit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/past_visits\",\n      render: () => /*#__PURE__*/React.createElement(PastVisit, {\n        pastVisits: this.state.pastVisits,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 10\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/future_visits\",\n      render: () => /*#__PURE__*/React.createElement(FutureVisit, {\n        futureVisits: this.state.futureVisits,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 10\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        handleLogin: this.handleLogin,\n        handleLogout: this.handleLogout,\n        handleCreateUser: this.handleCreateUser,\n        showSignUpForm: this.showSignUpForm,\n        signUpForm: this.state.signUpForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 10\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: () => /*#__PURE__*/React.createElement(Profile, {\n        parks: this.state.user.parks,\n        user: this.state.user,\n        handleLogout: this.handleLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 10\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      component: NoMatch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 8\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Volumes/Storage/Code/national-parks-explorer/front-end/src/containers/AllContainer.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","NavigationBar","Parks","PastVisit","FutureVisit","NoMatch","Layout","ParkDetails","Map","MyModal","Profile","Login","URL","AllContainer","constructor","props","postVisit","visit","newVisit","state","user","url","newVisitState","toLowerCase","fetch","method","headers","accepts","body","JSON","stringify","then","res","json","modalClose","visits","futureVisits","setState","redirect","pastVisits","modalShow","searchChange","e","target","value","length","search","showPark","park","backToParks","filterPark","fullname","includes","description","weatherInfo","states","planNewVisit","park_id","id","logPastVisit","displayParks","parks","filter","checkCurrentUser","token","localStorage","Authorization","data","handleLogin","preventDefault","userObject","userName","password","message","alert","errors","console","log","setItem","jwt","window","history","pushState","forceUpdate","reset","handleLogout","removeItem","handleCreateUser","newUserObject","firstName","lastName","profilePicture","signUpForm","showSignUpForm","fetchParks","fetchVisits","componentDidMount","render","loggedIn"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACCC,aAAa,IAAIC,MADlB,EAECC,KAFD,EAGCC,MAHD,EAICC,QAJD,QAKO,kBALP;AAMA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,GAAT,QAAoB,mBAApB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,GAAG,GAAI,wBAAb;AAEA,eAAe,MAAMC,YAAN,SAA2BlB,SAA3B,CAAqC;AACnDmB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAiBnBC,SAjBmB,GAiBNC,KAAD,IAAW;AACtB,UAAIC,QAAQ,GAAGD,KAAf;AACAC,MAAAA,QAAQ,CAAC,SAAD,CAAR,GAAsB,KAAKC,KAAL,CAAWD,QAAX,CAAoB,SAApB,CAAtB;AACAA,MAAAA,QAAQ,CAAC,SAAD,CAAR,GAAsB,KAAKC,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAtB;AACA,UAAIC,GAAG,GAAGT,GAAG,GAAG,KAAKO,KAAL,CAAWG,aAAX,CAAyBC,WAAzB,EAAN,GAA+C,SAAzD;AAEAC,MAAAA,KAAK,CAACH,GAAD,EAAM;AACVI,QAAAA,MAAM,EAAE,MADE;AAEVC,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAERC,UAAAA,OAAO,EAAE;AAFD,SAFC;AAMVC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEb,UAAAA,KAAK,EAAEC;AAAT,SAAf;AANI,OAAN,CAAL,CAQEa,IARF,CAQQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARhB,EASEF,IATF,CASQf,SAAD,IAAe;AACpB,YAAI,KAAKG,KAAL,CAAWD,QAAX,KAAwB,QAA5B,EAAsC;AACrC,eAAKgB,UAAL;AACA,cAAIC,MAAM,GAAG,CAAC,GAAG,KAAKhB,KAAL,CAAWiB,YAAf,EAA6BpB,SAA7B,CAAb;AACA,eAAKqB,QAAL,CAAc;AACbD,YAAAA,YAAY,EAAED,MADD;AAEbG,YAAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,cAAA,EAAE,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFG,WAAd;AAIA,SAPD,MAOO;AACN,eAAKJ,UAAL;AACA,cAAIC,MAAM,GAAG,CAAC,GAAG,KAAKhB,KAAL,CAAWoB,UAAf,EAA2BvB,SAA3B,CAAb;AACA,eAAKqB,QAAL,CAAc;AACbE,YAAAA,UAAU,EAAEJ,MADC;AAEbG,YAAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,cAAA,EAAE,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFG,WAAd;AAIA;AACD,OAzBF;AA0BA,KAjDkB;;AAAA,SAmDnBE,SAnDmB,GAmDP,MAAM,KAAKH,QAAL,CAAc;AAAEG,MAAAA,SAAS,EAAE;AAAb,KAAd,CAnDC;;AAAA,SAoDnBN,UApDmB,GAoDN,MAAM,KAAKG,QAAL,CAAc;AAAEG,MAAAA,SAAS,EAAE;AAAb,KAAd,CApDA;;AAAA,SAqDnBC,YArDmB,GAqDHC,CAAD,IACdA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,GAAwB,CAAxB,GACG,KAAKR,QAAL,CAAc;AAAES,MAAAA,MAAM,EAAEJ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAerB,WAAf;AAAV,KAAd,CADH,GAEG,KAAKc,QAAL,CAAc;AAAES,MAAAA,MAAM,EAAEJ,CAAC,CAACC,MAAF,CAASC;AAAnB,KAAd,CAxDe;;AAAA,SAyDnBG,QAzDmB,GAyDPC,IAAD,IAAU,KAAKX,QAAL,CAAc;AAAEU,MAAAA,QAAQ,EAAEC;AAAZ,KAAd,CAzDF;;AAAA,SA0DnBC,WA1DmB,GA0DL,MAAM,KAAKZ,QAAL,CAAc;AAAEU,MAAAA,QAAQ,EAAE;AAAZ,KAAd,CA1DD;;AAAA,SA2DnBG,UA3DmB,GA2DLF,IAAD,IAAU;AACtB,YAAMF,MAAM,GAAG,KAAK3B,KAAL,CAAW2B,MAA1B;AACA,aACCE,IAAI,CAACG,QAAL,CAAc5B,WAAd,GAA4B6B,QAA5B,CAAqCN,MAArC,KACAE,IAAI,CAACK,WAAL,CAAiB9B,WAAjB,GAA+B6B,QAA/B,CAAwCN,MAAxC,CADA,IAEAE,IAAI,CAACM,WAAL,CAAiB/B,WAAjB,GAA+B6B,QAA/B,CAAwCN,MAAxC,CAFA,IAGAE,IAAI,CAACO,MAAL,CAAYH,QAAZ,CAAqBN,MAArB,CAJD;AAMA,KAnEkB;;AAAA,SAqEnBU,YArEmB,GAqEHR,IAAD,IAAU;AACxB,WAAKX,QAAL,CAAc;AACbf,QAAAA,aAAa,EAAE,QADF;AAEbJ,QAAAA,QAAQ,EAAE;AAAEuC,UAAAA,OAAO,EAAET,IAAI,CAACU;AAAhB;AAFG,OAAd;AAIA,WAAKlB,SAAL;AACA,KA3EkB;;AAAA,SA6EnBmB,YA7EmB,GA6EHX,IAAD,IAAU;AACxB,WAAKX,QAAL,CAAc;AACbf,QAAAA,aAAa,EAAE,MADF;AAEbJ,QAAAA,QAAQ,EAAE;AAAEuC,UAAAA,OAAO,EAAET,IAAI,CAACU;AAAhB;AAFG,OAAd;AAIA,WAAKlB,SAAL;AACA,KAnFkB;;AAAA,SAyGnBoB,YAzGmB,GAyGJ,MAAM;AACpB,UAAIC,KAAK,GAAG,KAAK1C,KAAL,CAAW0C,KAAvB;AACA,aAAOA,KAAK,CAACC,MAAN,CAAcd,IAAD,IAAU,KAAKE,UAAL,CAAgBF,IAAhB,CAAvB,CAAP;AACA,KA5GkB;;AAAA,SAoHnBe,gBApHmB,GAoHA,MAAM;AACxB,UAAIC,KAAK,GAAGC,YAAY,CAACD,KAAzB;AACAxC,MAAAA,KAAK,CAAE,+BAAF,EAAkC;AACtCC,QAAAA,MAAM,EAAE,KAD8B;AAEtCC,QAAAA,OAAO,EAAE;AAAEwC,UAAAA,aAAa,EAAEF;AAAjB;AAF6B,OAAlC,CAAL,CAIEjC,IAJF,CAIQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJhB,EAKEF,IALF,CAKQoC,IAAD,IAAU,KAAK9B,QAAL,CAAc;AAAEjB,QAAAA,IAAI,EAAE+C,IAAI,CAAC/C;AAAb,OAAd,CALjB;AAMA,KA5HkB;;AAAA,SAgInBgD,WAhImB,GAgIJ1B,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAAC2B,cAAF;AAEA,UAAIC,UAAU,GAAG;AAChBC,QAAAA,QAAQ,EAAE7B,CAAC,CAACC,MAAF,CAAS4B,QAAT,CAAkB3B,KADZ;AAEhB4B,QAAAA,QAAQ,EAAE9B,CAAC,CAACC,MAAF,CAAS6B,QAAT,CAAkB5B;AAFZ,OAAjB;AAKApB,MAAAA,KAAK,CAACZ,GAAG,GAAG,OAAP,EAAgB;AACpBa,QAAAA,MAAM,EAAE,MADY;AAEpBC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFW;AAGpBE,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEV,UAAAA,IAAI,EAAEkD;AAAR,SAAf;AAHc,OAAhB,CAAL,CAKEvC,IALF,CAKQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EALhB,EAMEF,IANF,CAMQoC,IAAD,IAAU;AACf,YAAIA,IAAI,CAACM,OAAT,EAAkB;AACjBC,UAAAA,KAAK,CAAC,gDAAD,CAAL;AACA,eAAKrC,QAAL,CAAc;AAAEsC,YAAAA,MAAM,EAAER,IAAI,CAACM;AAAf,WAAd,EAAwC,MACvCG,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAK1D,KAAL,CAAWwD,MAAjC,CADD;AAGA,SALD,MAKO;AACN,eAAKtC,QAAL,CAAc;AACbjB,YAAAA,IAAI,EAAE+C,IAAI,CAAC/C,IADE;AAEbkB,YAAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,cAAA,EAAE,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFG,WAAd;AAIA2B,UAAAA,YAAY,CAACa,OAAb,CAAqB,OAArB,EAA8BX,IAAI,CAACY,GAAnC;AACAC,UAAAA,MAAM,CAACC,OAAP,CAAeC,SAAf,CACC;AAAE7D,YAAAA,GAAG,EAAE;AAAP,WADD,EAEC,EAFD,EAGC,UAHD;AAKA,eAAK8D,WAAL;AACA;AACD,OAzBF;AA0BAzC,MAAAA,CAAC,CAACC,MAAF,CAASyC,KAAT;AACA,KAnKkB;;AAAA,SAqKnBC,YArKmB,GAqKJ,MAAM;AACpBpB,MAAAA,YAAY,CAACqB,UAAb,CAAwB,OAAxB;AACA,WAAKjD,QAAL,CAAc;AAAEC,QAAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAZ,OAAd;AACA,KAxKkB;;AAAA,SA4KnBiD,gBA5KmB,GA4KC7C,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAAC2B,cAAF;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYnC,CAAC,CAACC,MAAd;AAEA,UAAI6C,aAAa,GAAG;AACnBjB,QAAAA,QAAQ,EAAE7B,CAAC,CAACC,MAAF,CAAS4B,QAAT,CAAkB3B,KADT;AAEnB4B,QAAAA,QAAQ,EAAE9B,CAAC,CAACC,MAAF,CAAS6B,QAAT,CAAkB5B,KAFT;AAGnB6C,QAAAA,SAAS,EAAE/C,CAAC,CAACC,MAAF,CAAS8C,SAAT,CAAmB7C,KAHX;AAInB8C,QAAAA,QAAQ,EAAEhD,CAAC,CAACC,MAAF,CAAS+C,QAAT,CAAkB9C,KAJT;AAKnB+C,QAAAA,cAAc,EAAEjD,CAAC,CAACC,MAAF,CAASgD,cAAT,CAAwB/C;AALrB,OAApB;AAQApB,MAAAA,KAAK,CAACZ,GAAG,GAAG,OAAP,EAAgB;AACpBa,QAAAA,MAAM,EAAE,MADY;AAEpBC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFW;AAGpBE,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEV,UAAAA,IAAI,EAAEoE;AAAR,SAAf;AAHc,OAAhB,CAAL,CAKEzD,IALF,CAKQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EALhB,EAMEF,IANF,CAMQoC,IAAD,IAAU;AACf,YAAIA,IAAI,CAACQ,MAAT,EAAiB;AAChBD,UAAAA,KAAK,CAAC,gDAAD,CAAL;AACA,eAAKrC,QAAL,CAAc;AAAEsC,YAAAA,MAAM,EAAER,IAAI,CAACM;AAAf,WAAd,EAAwC,MACvCG,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAK1D,KAAL,CAAWwD,MAAjC,CADD;AAGA,SALD,MAKO;AACN,eAAKtC,QAAL,CAAc;AACbjB,YAAAA,IAAI,EAAE+C,IAAI,CAAC/C,IADE;AAEbwE,YAAAA,UAAU,EAAE,KAFC;AAGbtD,YAAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,cAAA,EAAE,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHG,WAAd;AAKA2B,UAAAA,YAAY,CAACa,OAAb,CAAqB,OAArB,EAA8BX,IAAI,CAACY,GAAnC;AACAC,UAAAA,MAAM,CAACC,OAAP,CAAeC,SAAf,CACC;AAAE7D,YAAAA,GAAG,EAAE;AAAP,WADD,EAEC,EAFD,EAGC,UAHD;AAKA,eAAK8D,WAAL;AACA;AACD,OA1BF;AA2BA,KAnNkB;;AAAA,SAqNnBU,cArNmB,GAqNDnD,CAAD,IAAO;AACvBA,MAAAA,CAAC,CAAC2B,cAAF;AACA,WAAKlD,KAAL,CAAWyE,UAAX,GACG,KAAKvD,QAAL,CAAc;AAAEuD,QAAAA,UAAU,EAAE;AAAd,OAAd,CADH,GAEG,KAAKvD,QAAL,CAAc;AAAEuD,QAAAA,UAAU,EAAE;AAAd,OAAd,CAFH;AAGA,KA1NkB;;AAGlB,SAAKzE,KAAL,GAAa;AACZG,MAAAA,aAAa,EAAE,EADH;AAEZJ,MAAAA,QAAQ,EAAE,EAFE;AAGZsB,MAAAA,SAAS,EAAE,KAHC;AAIZqB,MAAAA,KAAK,EAAE,EAJK;AAKZd,MAAAA,QAAQ,EAAE,KALE;AAMZR,MAAAA,UAAU,EAAE,EANA;AAOZH,MAAAA,YAAY,EAAE,EAPF;AAQZU,MAAAA,MAAM,EAAE,EARI;AASZ1B,MAAAA,IAAI,EAAE,EATM;AAUZwE,MAAAA,UAAU,EAAE;AAVA,KAAb;AAYA;;AAsEDE,EAAAA,UAAU,GAAG;AACZtE,IAAAA,KAAK,CAACZ,GAAG,GAAG,OAAP,CAAL,CACEmB,IADF,CACQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADhB,EAEEF,IAFF,CAEQ8B,KAAD,IAAW,KAAKxB,QAAL,CAAc;AAAEwB,MAAAA,KAAK,EAAEA;AAAT,KAAd,CAFlB;AAGA;;AAEDkC,EAAAA,WAAW,GAAG;AACbvE,IAAAA,KAAK,CAACZ,GAAG,GAAG,aAAP,CAAL,CACEmB,IADF,CACQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADhB,EAEEF,IAFF,CAEQoC,IAAD,IAAU;AACf,WAAK9B,QAAL,CAAc;AAAEE,QAAAA,UAAU,EAAE4B;AAAd,OAAd;AACA,KAJF;AAMA3C,IAAAA,KAAK,CAACZ,GAAG,GAAG,eAAP,CAAL,CACEmB,IADF,CACQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADhB,EAEEF,IAFF,CAEQoC,IAAD,IAAU;AACf,WAAK9B,QAAL,CAAc;AAAED,QAAAA,YAAY,EAAE+B;AAAhB,OAAd;AACA,KAJF;AAKA;;AAOD6B,EAAAA,iBAAiB,GAAG;AACnB,SAAKF,UAAL;AACA,SAAKC,WAAL;AACA,QAAI9B,YAAY,CAACD,KAAjB,EAAwB,KAAKD,gBAAL;AACxB;;AA0GD;AAEAkC,EAAAA,MAAM,GAAG;AACR,wBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,OAAD;AACC,MAAA,IAAI,EAAE,KAAK9E,KAAL,CAAWqB,SADlB;AAEC,MAAA,MAAM,EAAE,KAAKN,UAFd;AAGC,MAAA,aAAa,EAAE,KAAKf,KAAL,CAAWG,aAH3B;AAIC,MAAA,SAAS,EAAE,KAAKN,SAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAQC,oBAAC,aAAD;AACC,MAAA,YAAY,EAAE,KAAKyB,YADpB;AAEC,MAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAW+E,QAFtB;AAGC,MAAA,YAAY,EAAE,KAAKb,YAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,eAcC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlE,KAAL,CAAWmB,QADb,eAGC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AACC,MAAA,KAAK,MADN;AAEC,MAAA,IAAI,EAAC,GAFN;AAGC,MAAA,MAAM,EAAE,MACP,KAAKnB,KAAL,CAAW4B,QAAX,gBACC,oBAAC,WAAD;AACC,QAAA,IAAI,EAAE,KAAK5B,KAAL,CAAW4B,QADlB;AAEC,QAAA,WAAW,EAAE,KAAKE,WAFnB;AAGC,QAAA,YAAY,EAAE,KAAKO,YAHpB;AAIC,QAAA,YAAY,EAAE,KAAKG,YAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,gBAQC,oBAAC,GAAD;AACC,QAAA,KAAK,EAAE,KAAKC,YAAL,EADR;AAEC,QAAA,QAAQ,EAAE,KAAKb,QAFhB;AAGC,QAAA,YAAY,EAAE,KAAKS,YAHpB;AAIC,QAAA,YAAY,EAAE,KAAKG,YAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAuBC,oBAAC,KAAD;AACC,MAAA,IAAI,EAAC,QADN;AAEC,MAAA,MAAM,EAAE,MACP,KAAKxC,KAAL,CAAW4B,QAAX,gBACC,oBAAC,WAAD;AACC,QAAA,IAAI,EAAE,KAAK5B,KAAL,CAAW4B,QADlB;AAEC,QAAA,WAAW,EAAE,KAAKE,WAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,gBAMC,oBAAC,KAAD;AACC,QAAA,KAAK,EAAE,KAAKW,YAAL,EADR;AAEC,QAAA,QAAQ,EAAE,KAAKb,QAFhB;AAGC,QAAA,YAAY,EAAE,KAAKS,YAHpB;AAIC,QAAA,YAAY,EAAE,KAAKG,YAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBD,eA0CC,oBAAC,KAAD;AACC,MAAA,IAAI,EAAC,cADN;AAEC,MAAA,MAAM,EAAE,mBACP,oBAAC,SAAD;AACC,QAAA,UAAU,EAAE,KAAKxC,KAAL,CAAWoB,UADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1CD,eAmDC,oBAAC,KAAD;AACC,MAAA,IAAI,EAAC,gBADN;AAEC,MAAA,MAAM,EAAE,mBACP,oBAAC,WAAD;AACC,QAAA,YAAY,EAAE,KAAKpB,KAAL,CAAWiB,YAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnDD,eA4DC,oBAAC,KAAD;AACC,MAAA,IAAI,EAAC,QADN;AAEC,MAAA,MAAM,EAAE,mBACP,oBAAC,KAAD;AACC,QAAA,WAAW,EAAE,KAAKgC,WADnB;AAEC,QAAA,YAAY,EAAE,KAAKiB,YAFpB;AAGC,QAAA,gBAAgB,EAAE,KAAKE,gBAHxB;AAIC,QAAA,cAAc,EAAE,KAAKM,cAJtB;AAKC,QAAA,UAAU,EAAE,KAAK1E,KAAL,CAAWyE,UALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5DD,eAyEC,oBAAC,KAAD;AACC,MAAA,IAAI,EAAC,UADN;AAEC,MAAA,MAAM,EAAE,mBACP,oBAAC,OAAD;AACC,QAAA,KAAK,EAAE,KAAKzE,KAAL,CAAWC,IAAX,CAAgByC,KADxB;AAEC,QAAA,IAAI,EAAE,KAAK1C,KAAL,CAAWC,IAFlB;AAGC,QAAA,YAAY,EAAE,KAAKiE,YAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzED,eAoFC,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEhF,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApFD,CAHD,CADD,CAdD,CADD;AA6GA;;AA7UkD","sourcesContent":["import React, { Component } from 'react';\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tSwitch,\n\tRedirect,\n} from 'react-router-dom';\nimport { NavigationBar } from './NavigationBar';\nimport Parks from './Parks';\nimport PastVisit from './PastVisit';\nimport FutureVisit from './FutureVisit';\nimport { NoMatch } from '../components/NoMatch';\nimport { Layout } from './Layout';\nimport { ParkDetails } from '../components/ParkDetails';\nimport { Map } from '../components/Map';\nimport MyModal from '../components/MyModal';\nimport Profile from './Profile';\nimport Login from './Login';\n\nconst URL = `http://localhost:3000/`;\n\nexport default class AllContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tnewVisitState: '',\n\t\t\tnewVisit: {},\n\t\t\tmodalShow: false,\n\t\t\tparks: [],\n\t\t\tshowPark: false,\n\t\t\tpastVisits: [],\n\t\t\tfutureVisits: [],\n\t\t\tsearch: '',\n\t\t\tuser: {},\n\t\t\tsignUpForm: false,\n\t\t};\n\t}\n\n\tpostVisit = (visit) => {\n\t\tlet newVisit = visit;\n\t\tnewVisit['park_id'] = this.state.newVisit['park_id'];\n\t\tnewVisit['user_id'] = this.state.user['id'];\n\t\tlet url = URL + this.state.newVisitState.toLowerCase() + '_visits';\n\n\t\tfetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\taccepts: 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({ visit: newVisit }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((postVisit) => {\n\t\t\t\tif (this.state.newVisit === 'Future') {\n\t\t\t\t\tthis.modalClose();\n\t\t\t\t\tlet visits = [...this.state.futureVisits, postVisit];\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfutureVisits: visits,\n\t\t\t\t\t\tredirect: <Redirect to=\"/future_visits\" />,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.modalClose();\n\t\t\t\t\tlet visits = [...this.state.pastVisits, postVisit];\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tpastVisits: visits,\n\t\t\t\t\t\tredirect: <Redirect to=\"/past_visits\" />,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tmodalShow = () => this.setState({ modalShow: true });\n\tmodalClose = () => this.setState({ modalShow: false });\n\tsearchChange = (e) =>\n\t\te.target.value.length > 2\n\t\t\t? this.setState({ search: e.target.value.toLowerCase() })\n\t\t\t: this.setState({ search: e.target.value });\n\tshowPark = (park) => this.setState({ showPark: park });\n\tbackToParks = () => this.setState({ showPark: false });\n\tfilterPark = (park) => {\n\t\tconst search = this.state.search;\n\t\treturn (\n\t\t\tpark.fullname.toLowerCase().includes(search) ||\n\t\t\tpark.description.toLowerCase().includes(search) ||\n\t\t\tpark.weatherInfo.toLowerCase().includes(search) ||\n\t\t\tpark.states.includes(search)\n\t\t);\n\t};\n\n\tplanNewVisit = (park) => {\n\t\tthis.setState({\n\t\t\tnewVisitState: 'Future',\n\t\t\tnewVisit: { park_id: park.id },\n\t\t});\n\t\tthis.modalShow();\n\t};\n\n\tlogPastVisit = (park) => {\n\t\tthis.setState({\n\t\t\tnewVisitState: 'Past',\n\t\t\tnewVisit: { park_id: park.id },\n\t\t});\n\t\tthis.modalShow();\n\t};\n\n\tfetchParks() {\n\t\tfetch(URL + 'parks')\n\t\t\t.then((res) => res.json())\n\t\t\t.then((parks) => this.setState({ parks: parks }));\n\t}\n\n\tfetchVisits() {\n\t\tfetch(URL + 'past_visits')\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ pastVisits: data });\n\t\t\t});\n\n\t\tfetch(URL + 'future_visits')\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ futureVisits: data });\n\t\t\t});\n\t}\n\n\tdisplayParks = () => {\n\t\tlet parks = this.state.parks;\n\t\treturn parks.filter((park) => this.filterPark(park));\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.fetchParks();\n\t\tthis.fetchVisits();\n\t\tif (localStorage.token) this.checkCurrentUser();\n\t}\n\n\tcheckCurrentUser = () => {\n\t\tlet token = localStorage.token;\n\t\tfetch(`http://localhost:3000/profile`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: { Authorization: token },\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => this.setState({ user: data.user }));\n\t};\n\n\t// LOGIN & LOGOUT //\n\n\thandleLogin = (e) => {\n\t\te.preventDefault();\n\n\t\tlet userObject = {\n\t\t\tuserName: e.target.userName.value,\n\t\t\tpassword: e.target.password.value,\n\t\t};\n\n\t\tfetch(URL + 'login', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ user: userObject }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.message) {\n\t\t\t\t\talert('Sorry, your username or password is incorrect.');\n\t\t\t\t\tthis.setState({ errors: data.message }, () =>\n\t\t\t\t\t\tconsole.log('errors', this.state.errors)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tuser: data.user,\n\t\t\t\t\t\tredirect: <Redirect to=\"/profile\" />,\n\t\t\t\t\t});\n\t\t\t\t\tlocalStorage.setItem('token', data.jwt);\n\t\t\t\t\twindow.history.pushState(\n\t\t\t\t\t\t{ url: '/profile' },\n\t\t\t\t\t\t'',\n\t\t\t\t\t\t'/profile'\n\t\t\t\t\t);\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\te.target.reset();\n\t};\n\n\thandleLogout = () => {\n\t\tlocalStorage.removeItem('token');\n\t\tthis.setState({ redirect: <Redirect to=\"/login\" /> });\n\t};\n\n\t// NEW USER STUFF //\n\n\thandleCreateUser = (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(e.target);\n\n\t\tlet newUserObject = {\n\t\t\tuserName: e.target.userName.value,\n\t\t\tpassword: e.target.password.value,\n\t\t\tfirstName: e.target.firstName.value,\n\t\t\tlastName: e.target.lastName.value,\n\t\t\tprofilePicture: e.target.profilePicture.value,\n\t\t};\n\n\t\tfetch(URL + 'users', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ user: newUserObject }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.errors) {\n\t\t\t\t\talert('Sorry, your username or password is incorrect.');\n\t\t\t\t\tthis.setState({ errors: data.message }, () =>\n\t\t\t\t\t\tconsole.log('errors', this.state.errors)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tuser: data.user,\n\t\t\t\t\t\tsignUpForm: false,\n\t\t\t\t\t\tredirect: <Redirect to=\"/profile\" />,\n\t\t\t\t\t});\n\t\t\t\t\tlocalStorage.setItem('token', data.jwt);\n\t\t\t\t\twindow.history.pushState(\n\t\t\t\t\t\t{ url: '/profile' },\n\t\t\t\t\t\t'',\n\t\t\t\t\t\t'/profile'\n\t\t\t\t\t);\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tshowSignUpForm = (e) => {\n\t\te.preventDefault();\n\t\tthis.state.signUpForm\n\t\t\t? this.setState({ signUpForm: false })\n\t\t\t: this.setState({ signUpForm: true });\n\t};\n\n\t// RENDER & ROUTES //\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MyModal\n\t\t\t\t\tshow={this.state.modalShow}\n\t\t\t\t\tonHide={this.modalClose}\n\t\t\t\t\tnewVisitState={this.state.newVisitState}\n\t\t\t\t\tpostVisit={this.postVisit}\n\t\t\t\t/>\n\n\t\t\t\t<NavigationBar\n\t\t\t\t\tsearchChange={this.searchChange}\n\t\t\t\t\tloggedIn={this.state.loggedIn}\n\t\t\t\t\thandleLogout={this.handleLogout}\n\t\t\t\t/>\n\n\t\t\t\t<Layout>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t{this.state.redirect}\n\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\t\trender={() =>\n\t\t\t\t\t\t\t\t\tthis.state.showPark ? (\n\t\t\t\t\t\t\t\t\t\t<ParkDetails\n\t\t\t\t\t\t\t\t\t\t\tpark={this.state.showPark}\n\t\t\t\t\t\t\t\t\t\t\tbackToParks={this.backToParks}\n\t\t\t\t\t\t\t\t\t\t\tplanNewVisit={this.planNewVisit}\n\t\t\t\t\t\t\t\t\t\t\tlogPastVisit={this.logPastVisit}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Map\n\t\t\t\t\t\t\t\t\t\t\tparks={this.displayParks()}\n\t\t\t\t\t\t\t\t\t\t\tshowPark={this.showPark}\n\t\t\t\t\t\t\t\t\t\t\tplanNewVisit={this.planNewVisit}\n\t\t\t\t\t\t\t\t\t\t\tlogPastVisit={this.logPastVisit}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/parks\"\n\t\t\t\t\t\t\t\trender={() =>\n\t\t\t\t\t\t\t\t\tthis.state.showPark ? (\n\t\t\t\t\t\t\t\t\t\t<ParkDetails\n\t\t\t\t\t\t\t\t\t\t\tpark={this.state.showPark}\n\t\t\t\t\t\t\t\t\t\t\tbackToParks={this.backToParks}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Parks\n\t\t\t\t\t\t\t\t\t\t\tparks={this.displayParks()}\n\t\t\t\t\t\t\t\t\t\t\tshowPark={this.showPark}\n\t\t\t\t\t\t\t\t\t\t\tplanNewVisit={this.planNewVisit}\n\t\t\t\t\t\t\t\t\t\t\tlogPastVisit={this.logPastVisit}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/past_visits\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<PastVisit\n\t\t\t\t\t\t\t\t\t\tpastVisits={this.state.pastVisits}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/future_visits\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<FutureVisit\n\t\t\t\t\t\t\t\t\t\tfutureVisits={this.state.futureVisits}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Login\n\t\t\t\t\t\t\t\t\t\thandleLogin={this.handleLogin}\n\t\t\t\t\t\t\t\t\t\thandleLogout={this.handleLogout}\n\t\t\t\t\t\t\t\t\t\thandleCreateUser={this.handleCreateUser}\n\t\t\t\t\t\t\t\t\t\tshowSignUpForm={this.showSignUpForm}\n\t\t\t\t\t\t\t\t\t\tsignUpForm={this.state.signUpForm}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/profile\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t\t\t\tparks={this.state.user.parks}\n\t\t\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\t\t\thandleLogout={this.handleLogout}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Route component={NoMatch} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Router>\n\t\t\t\t</Layout>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}